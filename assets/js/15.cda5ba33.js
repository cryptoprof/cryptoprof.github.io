(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{510:function(e,n,t){"use strict";t.r(n);var a=t(6),r=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("Для тех кто только начинает писать сайты на битриксе полезно будет знать как работать с инфоблоками. Инфоблоки это по сути те же таблицы, которые создаются в админке битрикса и могут быть использованы в ваших компонентах и модулях. В инфоблоках есть такое понятие как «Свойства». Свойства это по сути те поля, в которых можно хранить необходимую информацию. Чтобы не было глюков и прочих заморочек в поле «код» свойства инфоблока желательно писать его в uppercase на латинице например «SHOP_ID», «SHOP_NAME».\nИнфоблоки создаются в админке:\n"),t("a",{attrs:{href:""}},[e._v("https://dev.1c-bitrix.ru/learning/course/?COURSE_ID=34&LESSON_ID=2202")]),e._v("\nПосле создания инфоблока можно с ним уже работать.\nПриведу простые примеры:"),t("br"),e._v("\nПолучить ID инфоблока по его символьному имени")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("$result = CIBlock::GetList(array(), array('TYPE' => 'fav_shops', 'CODE' => 'user_reviews'));\nif ($row = $result->Fetch()) $info_id = intval($row['ID']);\n")])])]),t("p",[e._v("Запрос на выборку данных из инфоблока")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('/*\n*Тут указываем какие поля хотим извлечь. Если нужно извлечь свойство добавляем перед ним PROPERTY\n*Например есть у нас свойство SHOP_RATE, чтобы его выбрать нужно указать PROPERTY_SHOP_RATE\n*/\n$arSelect = array("ID","NAME","PROPERTY_SHOP_RATE");\n//Тут указываем ID инфоблока и дополнительные поля для фильтра-аналог WHERE в sql\n$arFilter = array("IBLOCK_ID"=>$info_id,"PROPERTY_USER"=>$USER->GetID());\n//Сюда передаем эти два массива\n$rsItems = CIBlockElement::GetList(array("ID"=>"DESC"), $arFilter, false, false, $arSelect);\nwhile($arItem = $rsItems->GetNext()){\n     //Выведем значение свойства\n     //Нужно обратить внимание,что еще добавляется VALUE\n     echo $arItem["PROPERTY_SHOP_RATE_VALUE"];\n     //Выведем простое поле\n     echo $arItem["NAME"];\n}\n')])])]),t("p",[e._v("Добавить информацию в инфоблок")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('//В массив $PROP прописываются названия свойств и им присваиваются значения\n$element=new CIBlockElement;\n$PROP = array();\n$PROP[\'USER\'] = $USER->GetID();\n$PROP[\'SHOP_ID\']= $shop_id;\n$information = array(\n    "IBLOCK_ID"      => $info_id,\n    "PROPERTY_VALUES"=> $PROP,\n    "NAME"           => "Название элемента"\n);\n$element->Add($information);\n')])])]),t("p",[e._v("Обновить свойство:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("//$id -идентификатор записи что нужно обновить\nCIBlockElement::SetPropertyValuesEx($id, $iblock_id, $prop);\n")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);