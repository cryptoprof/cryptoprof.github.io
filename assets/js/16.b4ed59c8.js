(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{513:function(e,n,s){"use strict";s.r(n);var a=s(6),i=Object(a.a)({},(function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("Краткое описание того, как я устанавливал django на ubuntu, дабы попробовать себя в разработке.\nPython в ubuntu 17.04 по умолчанию версии 3.5.3\nУстановим apache и необходимые пакеты:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("sudo apt-get install apache2 apache2-utils libexpat1 ssl-cert\nsudo apt-get install libapache2-mod-wsgi\nsudo apt intall python-pip\nsudo apt install python-django python-django-common\n")])])]),s("p",[e._v("Создадим проект revision:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cd /home\nmkdir sites\ncd sites\ndjango-admin startproject revision\n")])])]),s("p",[e._v("Запустим миграции для создания структуры базы:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("python3 manage.py migrate\n")])])]),s("p",[e._v("Для сервера разработки откроем 8000 порт:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("sudo ufw allow 8000\n")])])]),s("p",[e._v("Проверим работает ли встроенный сервер:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("python3 manage.py runserver 0.0.0.0:8000\nnano django.wsgi\n\nimport os\nimport sys\nsys.path.append('/home/varlog/site')\nsys.path.append('~/site/revision/revision/lib/python3.5/site-packages')\nos.environ['DJANGO_SETTINGS_MODULE'] = 'revision.settings'\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n")])])]),s("p",[e._v("Нужно установить виртуальное окружение. Я наверное поторопился и установил его прямо в папку с проектом, но для теста не суть:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cd /home/varlog/site/revision/\nsudo pip3 install virtualenv\npython3 -m venv revision\n")])])]),s("p",[e._v("Запустим виртуальное окружение и в нем установим django")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cd revision/bin\nsource activate\n")])])]),s("p",[e._v("в командной строке слева должно отобразится название окружения(в моем случае revision)\nСтавим django:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("pip install django\n")])])]),s("p",[e._v("Установится django и можно выйти из виртуального окружения:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("deactivate\n")])])]),s("p",[e._v("И настроить apache:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cd /etc/apache2/sites-available\nsudo nano 000-default.conf\n")])])]),s("p",[e._v("В конфиге указываем")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v('<VirtualHost *:80>\n ServerAdmin webmaster@localhost\n WSGIScriptAlias / /home/varlog/site/revision/django.wsgi\n DocumentRoot /home/varlog/site/revision/revision\n WSGIDaemonProcess revision python-path=/home/varlog/site/revision python-home=/home/varlog/site/revision/revision\n WSGIProcessGroup revision\n ErrorLog ${APACHE_LOG_DIR}/error.log\n CustomLog ${APACHE_LOG_DIR}/access.log combined\n AddHandler wsgi-script .wsgi\n <Directory "/home/varlog/site/revision">\n AllowOverride FileInfo\n Options ExecCGI MultiViews FollowSymLinks\n MultiviewsMatch Handlers\n Order deny,allow\n Allow from all\n </Directory>\n</VirtualHost>\n')])])]),s("p",[e._v("Редактируем основной конфиг")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cd ..\nsudo nano apache2.conf\n\n\nWSGIScriptAlias / /home/varlog/site/revision/revision/wsgi.py\nWSGIPythonPath ~/site/revision/revision/lib/python3.5/site-packages:/home/varlog/site/revision/revision\n\n<Directory /home/varlog/revision/revision>\n<Files wsgi.py>\nOrder deny,allow\nRequire all granted\n</Files>\n</Directory>")])])])])}),[],!1,null,null,null);n.default=i.exports}}]);