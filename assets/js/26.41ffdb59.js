(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{521:function(e,a,s){"use strict";s.r(a);var r=s(6),t=Object(r.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("По умолчанию контейнеры и образы для docker лежат в /var/lib/docker. Если необходимо изменить расположение, то необходимо сделать следующие манипуляции. Данный перенос актуален для версии 1.12.6 Docker’а и Centos 7.\nДля начала проверим где расположена директория для образов и контейнеров:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v('docker info |grep "Root Dir"\n')])])]),s("p",[e._v("У меня это /var/lib/docker. Остановим службу docker:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("sudo systemctl stop docker\n")])])]),s("p",[e._v("Скопируем директорию в новое расположение. Например в /mnt/docker")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("cp -rp /var/lib/docker /mnt/docker\n")])])]),s("p",[e._v("Дождемся окончания копирования. Далее необходимо прописать этот путь в файле /etc/docker/daemon.json:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v('{\n    "graph": "/mnt/docker",\n    "storage-driver": "devicemapper"\n}\n')])])]),s("p",[e._v("Перезапустим службы:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("sudo systemctl daemon-reload \nsudo systemctl start docker\n")])])]),s("p",[e._v("Проверяем, что директория действительно изменилась:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v('docker info |grep "Root Dir"\n')])])]),s("p",[e._v("Проверим, что контейнеры на месте:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("docker ps -a\n")])])]),s("p",[e._v("Проверим запустится ли hello world и другие контейнеры:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("docker run hello-world\n")])])]),s("p",[e._v("После этого можно удалить директорию из которой переносили контейнеры:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("sudo rm -rf /var/lib/docker\n")])])])])}),[],!1,null,null,null);a.default=t.exports}}]);